# 数据检索

## 公式统计

【<font color="#1677FF">推荐</font>】为了简化数据查询操作，推荐在满足设计范式 1NF 的基础上，灵活使用「公式字段」；
在满足设计范式 2NF 的基础上，灵活使用「统计字段」。


## 数据库编程

【<font color="#1677FF">推荐</font>】数据库编程可以有效提升批量数据处理的性能。

::: info 📘 说明

数据原始表往往无法满足实际展现需求，而活字格的页面/报表需要对数据表对象进行绑定。
因此，合适的数据库编程可以将数据组装成视图后在活字格中进行有效呈现。

::: tip 💡 场景

- SQL 编写视图、存储过程，或通过「执行SQL命令」运行SQL语句来代替数据表操作命令，可以进一步提升复杂查询和数据处理的性能；
- 部分数据库（如 PostgreSQL，Oracle）需要通过 SQL 编程实现 `id` 自增。
- SQL 编程需满足对应数据库厂商提供的最佳实践。

:::

【<font color="#1677FF">推荐</font>】在编写数据库编程时，请确保所有字符的存储与表示，均以 `utf-8` 编码。

【<font color="#1677FF">推荐</font>】「执行 SQL 命令」中的 SQL 语句中不要直接拼接来自用户输入的内容，如传入参数，避免注入攻击。

## 数据操作

【<font color="#1677FF">推荐</font>】避免在前端命令的循环中使用数据表操作命令，请使用服务端命令代替。

::: info 📘 说明

活字格提供了三种数据批量更新的方式。在性能差异上，「执行SQL命令」 > 服务端命令「数据表操作命令」 >> 页面「数据表操作命令」。
详情请点击[分析贴](https://gcdn.grapecity.com.cn/showtopic-156552-1-1.html)。

:::
