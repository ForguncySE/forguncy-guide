# 系统维护

## 操作系统

【<font color="#1677FF">推荐</font>】优先选择 Linux 作为服务器的操作系统，避免因系统漏洞遭遇“勒索病毒”等工具。

::: info 📘 说明

Windows 系统作为运用最广的操作系统，会深受攻击者“照顾”，系统安全漏洞也会更多，许多“勒索病毒”出现在 Windows上的概率更大。
除此之外，在网络建站服务器的场景中，Linux 系统还有以下优势：

- Linux 作为开源系统，，具有高度可定制化。信创系统也是基于 Linux 开发；
- 相同配置下 Linux 所占用的资源会更少，相对来说，性能更好；
- Linux 的防火墙策略与入侵检测系统更为细致强大，在建站方面更加安全。
- Linux 对于虚拟化技术的支持具有天然性的优势。

:::

【<font color="#1677FF">推荐</font>】如果选择服务器系统为 Windows，请选择 Windows Server 操作系统。

::: info 📘 说明

Windows Server 是微软专为工作站或服务器设计的操作系统。请不要在服务器上安装诸如 windows 7/8/10/11 等为个人电脑设计的操作系统。

:::

## 服务器管理

【<font color="#1677FF">推荐</font>】为堡垒机和生产环境中的所有服务器启用高强度密码，推荐启用RSA公钥加密登录方式。

【<font color="#1677FF">推荐</font>】严格管理生产环境中的所有服务器的用户名、密码和公钥，原则上仅允许技术负责人和配置管理员持有密码和公钥。

【<font color="#1677FF">推荐</font>】请为您的服务器开启防火墙，并配置安全策略，仅开放特定的端口通信。

::: tip 💡 技巧

从安全性考虑，远程登录端口、数据库服务端口、活字格服务端管理端口等都应当只向信任 IP （白名单）开放。

PS：常见的端口服务与说明如表格所示：

|   端口   |     服务      | 说明                                                   |
|:------:|:-----------:|:-----------------------------------------------------|
|   21   |     FTP     | FTP 服务所开放的端口，用于上传、下载文件。                              |
|   22   |     SSH     | SSH 端口，用于通过命令行模式 远程连接 Linux 服务器或vps。                 |
|   23   |   Telnet    | Telnet 端口，用于 Telnet 远程登录服务器。                         |
|   25   |    SMTP     | SMTP 服务所开放的端口，用于发送邮件。                                |
|   80   |    HTTP     | 用于 HTTP 服务提供访问功能，例如，IIS、Apache、Nginx 等服务             |
|  443   |    HTTPS    | 用于 HTTPS 服务提供访问功能。HTTPS 是一种能提供加密和通过安全端口传输的一种协议。      |
|  3389  | Windows 登录  | Windows远程桌面登录                                        |
|  1433  | SQL Server  | SQL Server 的 TCP 端口，用于供 SQL Server 对外提供服务。           |
|  1434  | SQL Server  | SQL Server 的 UDP 端口，用于返回 SQL Server 使用了哪个 TCP/IP 端口。 |
|  1521  |   Oracle    | Oracle 通信端口，服务器上部署了 Oracle SQL 需要放行的端口。              |
|  3306  |    MySQL    | MySQL 数据库对外提供服务的端口。                                  |
|  ALL   |    Ping     | 通过Ping测试网络连通性 (放通ALL ICMP)                           |
| 22345  |     活字格     | 活字格服务对外提供服务的端口                                       |

:::

【<font color="#F3AA34">参考</font>】通过堡垒机（或与服务器在同一内网、仅开放SSH端口的另一台服务器）ssh 到服务器进行操作，避免通过公网直接操作服务器。

【<font color="#F3AA34">参考</font>】定期检查堡垒机和生产环境中所有服务器的安全更新，升级系统、组件、软件以修复漏洞。

## 网关代理

【<font color="#1677FF">推荐</font>】请架设网关服务器进行反向代理，启用访问日志、黑白名单。
视情况启用 DDoS 攻击防范、API 访问限流等安全机制。

